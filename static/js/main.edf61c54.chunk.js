(this["webpackJsonpkendo-ui"]=this["webpackJsonpkendo-ui"]||[]).push([[0],{34:function(e,t,a){e.exports=a(56)},39:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(11),l=a.n(o),i=(a(39),a(25)),s=a(18),r="1084271638688-t6s75cnrcee96gsc46gr0q7uqrfnovt2.apps.googleusercontent.com",m="AIzaSyDC6A1Y0eo0voX2_yJs-1CqnvMAJzyQSXI",u="https://www.googleapis.com/auth/calendar.readonly",d="https://www.googleapis.com/auth/contacts.readonly",f="https://www.googleapis.com/auth/gmail.readonly",p=a(15),h=a(5),E=(a(50),a(14)),v=a(20),g=function(e){var t=e.emails,a=Object(n.useState)({take:10,skip:0,sort:[{field:"date",dir:"des"}]}),o=Object(s.a)(a,2),l=o[0],i=o[1],r=Object(n.useState)(!1),m=Object(s.a)(r,2),u=m[0],d=m[1],f=Object(n.useState)({}),h=Object(s.a)(f,2),g=h[0],w=h[1];return c.a.createElement("div",{className:"inbox"},c.a.createElement("div",{className:"site-grid-container"},!1===u?c.a.createElement(v.a,{onRowClick:function(e){d(!0),w(e.dataItem)},data:Object(E.c)(t,l.sort),pageable:!0,sortable:!0,sort:l.sort,skip:l.skip,take:l.take,total:t.length,onDataStateChange:function(e){i(e.data)},className:"site-grid"},c.a.createElement(v.b,{field:"sender",width:"320px",title:"SENDER"}),c.a.createElement(v.b,{field:"clippedSubject",width:"350px",title:"SUBJECT"}),c.a.createElement(v.b,{field:"clippedContent",title:"CONTENT"}),c.a.createElement(v.b,{field:"date",width:"230px",title:"DATE",filter:"date",format:"{0:d-MMM-yyyy}"})):c.a.createElement(p.b,null,c.a.createElement(p.e,null,g.sender),c.a.createElement(p.d,null,c.a.createElement(p.f,null,g.subject),c.a.createElement("p",null,g.date),c.a.createElement("p",null,g.content),c.a.createElement("p",null,g.clippedContent)),c.a.createElement(p.c,null,c.a.createElement("span",{className:"k-button k-flat k-primary",onClick:function(){d(!1)}},"Back"),c.a.createElement("span",{className:"k-button k-flat k-primary"},"Reply")))))},w=(a(51),a(22)),b=a(33),k=function(e){var t=e.events;return c.a.createElement("div",{className:"Calendar"},c.a.createElement(w.c,{data:t,defaultView:"week"},c.a.createElement(w.b,null),c.a.createElement(w.d,{workWeekStart:b.a.Monday,workWeekEnd:b.a.Friday}),c.a.createElement(w.a,{startTime:"09:00",endTime:"18:00"})))},N=(a(52),a(27)),j=function(e){var t=e.dataItem;return c.a.createElement("div",{className:"row p-2 border-bottom list-item"},c.a.createElement("div",{className:"col-2 avatar"},c.a.createElement(p.a,{shape:"circle",type:"img",className:"picture-avatar"},c.a.createElement("img",{src:t.photo,alt:"",className:"photo"}))),c.a.createElement("div",{className:"col-3 contact-name"},c.a.createElement("div",null,t.title)),c.a.createElement("div",{className:"col-3 contact-email"},c.a.createElement("div",null,t.email)),c.a.createElement("div",{className:"col-4 contact-phone"},c.a.createElement("div",{className:"k-chip-content"},t.phone)))},y=function(){return c.a.createElement(N.b,{className:"contacts-header list-item"},c.a.createElement("div",{className:"col-2 avatar"}),c.a.createElement("div",{className:"col-3 contact-name"},"NAME"),c.a.createElement("div",{className:"col-3 contact-email"},"EMAIL"),c.a.createElement("div",{className:"col-4 contact-phone"},"PHONE"))},O=function(e){var t=e.contacts;return c.a.createElement("div",{className:"Contacts"},c.a.createElement(N.a,{data:t,item:j,header:y,style:{width:"100%"}}))},S=(a(53),a(54),a(55),function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)([]),E=Object(s.a)(l,2),v=E[0],w=E[1],b=Object(n.useState)([]),N=Object(s.a)(b,2),j=N[0],y=N[1],S=Object(n.useState)([]),C=Object(s.a)(S,2),_=C[0],T=C[1],I=function(){setTimeout((function(){window.gapi.auth.authorize({client_id:r,scope:f,immediate:!1},e)}));var e=function(e){fetch("https://www.googleapis.com/gmail/v1/users/me/messages?access_token=".concat(e.access_token,"&maxResults=30")).then((function(e){return e.json()})).then((function(t){return t.messages.forEach((function(t){fetch("https://www.googleapis.com/gmail/v1/users/me/messages/".concat(t.id,"?access_token=").concat(e.access_token)).then((function(e){return e.json()})).then((function(e){if(e.labelIds.includes("INBOX")){var t={},a=e.payload.headers;t.sender=a.find((function(e){return"From"===e.name})).value;var n=a.find((function(e){return"Subject"===e.name})).value;t.subject=n,t.date=new Date(a.find((function(e){return"Date"===e.name})).value),t.content=e.snippet,t.clippedContent=e.snippet.substr(0,50),t.clippedSubject=n.substr(0,50),w((function(e){return[].concat(Object(i.a)(e),[t])}))}}))})),t})).catch((function(e){console.log(e)}))}},x=function(){setTimeout((function(){window.gapi.auth.authorize({client_id:r,scope:u,immediate:!1},e)}));var e=function(e){fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events?access_token=".concat(e.access_token)).then((function(e){return e.json()})).then((function(e){return e.items.forEach((function(e){var t={};t.start=new Date(e.start.dateTime),t.end=new Date(e.end.dateTime),t.title=e.summary,y((function(e){return[].concat(Object(i.a)(e),[t])}))})),e})).catch((function(e){console.log(e)}))}},A=function(){setTimeout((function(){window.gapi.auth.authorize({client_id:r,scope:d,immediate:!1},e)}));var e=function(e){fetch("https://www.google.com/m8/feeds/contacts/default/full?alt=json&access_token=".concat(e.access_token,"&max-results=25&v=3.0")).then((function(e){return e.json()})).then((function(t){return t.feed.entry.forEach((function(t){var a={};t.title?a.title=t.title.$t:a.title="",t.gd$phoneNumber?a.phone=t.gd$phoneNumber[0].$t:a.phone="",t.gd$email?a.email=t.gd$email[0].address:a.email="",t.photo="";var n=t.link[0].href;if(n){fetch("".concat(n,"&access_token=").concat(e.access_token)).then((function(e){a.photo=e.url})).catch((function(e){console.log(e)}))}T((function(e){return[].concat(Object(i.a)(e),[a])}))})),t})).catch((function(e){console.log(e)}))}};return c.a.createElement("div",{className:"App"},v.length>0?c.a.createElement("div",{className:"tabs"},c.a.createElement(p.g,{selected:a,onSelect:function(e){o(e.selected)}},c.a.createElement(p.h,{title:"Inbox"},c.a.createElement(g,{emails:v})),c.a.createElement(p.h,{title:"Calendar"},c.a.createElement(k,{events:j})),c.a.createElement(p.h,{title:"Contacts"},c.a.createElement(O,{contacts:_})))):c.a.createElement("div",null,c.a.createElement("p",null,"Please login"),c.a.createElement(h.a,{onClick:function(){window.gapi.client.setApiKey(m),I(),x(),A()},className:"auth-btn"},"Login")))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.edf61c54.chunk.js.map